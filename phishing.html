<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>اكتشف التصيّد </title>
<style>
/* ---------------------------
   الخط (تأكد من وجود الملفات)
   --------------------------- */
@font-face {
  font-family: 'SSTArabic';
  src: url('SSTArabic-Medium.woff2') format('woff2'),
       url('SSTArabic-Medium.woff') format('woff'),
       url('SSTArabic-Medium.ttf') format('truetype');
  font-weight: 500;
  font-style: normal;
}

/* ---------------------------
   متغيرات الألوان واساسيات
   --------------------------- */
:root{
  --blue-1: #112b7c;
  --blue-2: #1f4690;
  --accent: rgb(0,185,181);
  --ink: #222;
  --muted: #6b7280;
  --card: #ffffff;
  --border: #e6e6e6;
  --bg: #f8f8fb;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:'SSTArabic','Segoe UI',Tahoma,Arial,sans-serif;
  background: linear-gradient(135deg,var(--blue-1),var(--blue-2));
  color:var(--ink);
  min-height:100vh;
  display:grid;
  grid-template-rows:auto 1fr auto; /* header | content | footer */
}

/* ---------------------------
   الهيدر (موحّد)
   --------------------------- */
.header{
  background:#fff;
  border-bottom:1px solid var(--border);
  position:sticky;
  top:0;
  z-index:50;
  box-shadow:0 2px 8px rgba(0,0,0,.06);
}
.header-inner{
  max-width:1200px;
  margin:0 auto;
  padding:10px 16px;
  display:grid;
  grid-template-columns:auto 1fr auto;
  align-items:center;
  gap:12px;
}
.brand-left img,.brand-right img{
  height:100px;
  width:auto;
  object-fit:contain;
  display:block;
}
.header-center{display:flex; justify-content:center}
.header-center a{
  color:#333; text-decoration:none; font-weight:700; padding:8px 12px; border-radius:8px;
}
.header-center a:hover{ background:#f3f4f6 }

/* ---------------------------
   المحتوى — بطاقة الكويز (جانبي)
   --------------------------- */
.container{ max-width:1200px; margin:18px auto; padding:12px; width:100%; }

/* ملء المساحة بين الهيدر والفوتر */
body > main.container{
  height:100%;
  display:flex;
  min-height:0; /* مهم لتجنّب تمدّد الأبناء */
}

.card{
  background:var(--card);
  border-radius:12px;
  box-shadow:0 10px 28px rgba(0,0,0,.07);
  overflow:hidden;

  /* ===== إصلاح رئيسي: امنع الانكماش/التمدد حسب المحتوى ===== */
  display:grid;
  flex:1 1 0%;          /* يملأ صف الـ flex */
  width:100%;           /* عرض ثابت يساوي عرض .container */
  max-width:100%;       /* لا يتجاوز الحاوية */
  grid-template-columns:480px 1fr; /* ثبات عرض عمود الصورة */
  gap:0;
  height:100%;
  min-height:0;
  margin:auto;
}

/* عمود الصورة */
.img-pane{
  background:#fafafa;
  display:flex; align-items:center; justify-content:center;
  padding:14px; border-inline-end:1px solid #eee;
  width:480px;         /* ثابت */
  flex:0 0 480px;
}
.img-pane img{
  max-width:100%; max-height:100%;
  object-fit:contain;
  border-radius:8px; border:1px solid #e9e9e9;
  height:auto;
}

/* عمود السؤال — شبكة ثابتة تمنع الاهتزاز */
.qa-pane{
  display:grid;
  grid-template-rows:
    auto   /* title-row */
    auto   /* progress */
    1fr    /* q-scroll (يتمرّر) */
    auto   /* feedback (ثابت الارتفاع) */
    auto;  /* actions */
  row-gap:10px;
  padding:16px;
  min-width:0;    /* يمنع تأثير المحتوى على العرض */
  min-height:0;
  width:100%;
  max-width:100%;
  overflow:hidden; /* يمنع أي تمدد لحظي من العناصر الداخلية */
}

/* منع أي عنصر داخلي من توسيع العمود */
.qa-pane *{
  max-width:100%;
  word-break:break-word;
  overflow-wrap:break-word;
}

.title-row{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.title-row h2{ margin:0; font-size:1.15rem; }
.counter{ color:var(--muted); }

.progress{ height:8px; background:#f1f5f9; border-radius:10px; overflow:hidden; margin:10px 0; }
.progress > span{ display:block; height:100%; background:var(--accent); width:0; transition:width .3s; }

.q-scroll{
  overflow:auto;       /* التمرير هنا فقط */
  min-height:0;        /* لا يدفع بقية العناصر */
  padding-right:8px;
  padding-bottom:8px;  /* يمنع قص آخر سطر */
}
.q-title{ font-size:1.05rem; margin:6px 0; }
.choices{
  display:grid; grid-template-columns:1fr 1fr; gap:12px;
  align-content:start;
}
.choice{
  padding:12px; border-radius:10px; background:#f7f7fb; border:1px solid #eee;
  cursor:pointer; text-align:center; user-select:none;
  display:flex; align-items:center; justify-content:center;
}
.choice.correct{ background:#e8f5e9; border-color:#c8e6c9; }
.choice.wrong{ background:#ffebee; border-color:#ffcdd2; }

/* ضبط لون مؤشر الراديو / accent */
.choice input{ accent-color: var(--blue-2); }

/* ---------------------------
   أزرار التنقل — مطابق لصفحة assessment
   --------------------------- */
.actions{
  display:flex;
  gap:10px;
  margin-top:14px;
  flex-wrap:wrap;
  justify-content:flex-end;
}
button{
  font-family: 'SSTArabic', Arial, sans-serif;
  cursor:pointer;
  border:none;
  border-radius:10px;
  padding:10px 18px;
  font-size:1rem;
}
.btn-main{ background:var(--accent); color:#fff; }
.btn-main:hover{ filter:brightness(.97); }
.btn-ghost{ background:#f1f1f1; color:#333; }
.btn-ghost:hover{ filter:brightness(.98); }
.btn-main:disabled, .btn-ghost:disabled{ opacity:.6; cursor:not-allowed; }

/* feedback — ارتفاع ثابت + ظهور/إخفاء بدون تغيير التخطيط */
.feedback{
  margin-top:12px; padding:12px; border-radius:10px;
  border:1px solid transparent; background:#f9fafb;
  display:block !important;   /* يتجاوز تبديل display من السكربت */
  height:96px !important;     /* ثابت لمنع الاهتزاز */
  overflow:auto !important;   /* تمرير داخلي عند الحاجة */
  visibility:hidden !important; /* محجوز مكانه لكنه مخفي افتراضيًا */
  width:100%; box-sizing:border-box; /* لا يزيد العرض */
}
.feedback.ok{
  background:#e8f5e9; color:#1b5e20;
  border-color:#eee;  visibility:visible !important;
}
.feedback.err{
  background:#fff8e1; color:#b28704;
  border-color:#eee;  visibility:visible !important;
}

/* نتيجة */
.result-box{ margin-top:12px; padding:14px; border-radius:10px; border:1px solid #eee; background:#fff; }

/* ---------------------------
   الفوتر (ثابت أسفل) 
   --------------------------- */
.footer{
  background:rgba(0,0,0,0.05);
  text-align:center;
  color:#fff;
  font-size:1.5rem;
  padding:10px 0;
  width:100%;
  margin-top:auto;
  position:sticky;
  bottom:0;
}

/* ---------------------------
   استجابة التابلت / الموبايل
   --------------------------- */
@media (max-width: 1024px){
  .header-inner{ padding:10px 12px; }
  .card{ height:100%; }
}

@media (max-width:760px){
  .brand-left img,.brand-right img{ height:48px; }

  .card{
    grid-template-columns:1fr;  /* عمود واحد */
    height:auto;
  }

  .img-pane{
    border-inline-end:none; border-bottom:1px solid #eee;
    max-height:45vh;
    width:auto;         /* إلغاء 480px في الجوال */
    flex:0 0 auto;      /* إلغاء التثبيت في الجوال */
  }

  .actions{ justify-content:space-between; }
}

/* === Force single-column layout up to tablet (iPad) widths ===
   makes iPad show image above question like mobile */
@media (max-width: 840px) {
  .card{
    grid-template-columns: 1fr !important; /* صورة فوق - سؤال تحت */
    height: auto !important;
  }

  .img-pane{
    border-inline-end: none !important;
    border-bottom: 1px solid #eee !important;
    padding: 18px !important;
    max-height: 60vh;        /* limit vertical size on tablet */
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .img-pane img{
    width: 100% !important;
    height: auto !important;
    max-height: 55vh !important; /* so the image is large but not overflow */
    object-fit: contain !important;
    display: block;
    margin: 0 auto;
  }

  .qa-pane{
    padding: 18px !important;
  }

  /* ensure buttons remain at bottom and visible */
  .actions{ justify-content: space-between; gap:12px; }
}

</style>


</head>
<body>

<header class="header">
  <div class="header-inner">
    <div class="brand-left"><a href="index.html"><img src="اشكال الشعارات-07.png" alt="شعار يسار"/></a></div>
    <div></div>
    <div class="brand-right"><a href="index.html"><img src="شعار سايبر ايبا-01.png" alt="شعار يمين"/></a></div>
  </div>
</header>

<!-- المحتوى -->
<main class="container" role="main" aria-label="اختبار اكتشف التصيد">
  <section class="card" id="quizCard">
    <div class="img-pane">
      <img id="qimg" src="Picture1.jpg" alt="صورة السؤال"/>
    </div>

    <div class="qa-pane">
      <div class="title-row">
        <h2>اكتشف التصيّد</h2>
        <div id="counter" class="counter">1 / 8</div>
      </div>

      <div class="progress" aria-hidden="true"><span id="bar"></span></div>

      <div class="q-scroll" id="qscroll">
        <div id="qtext" class="q-title">هل هذه الرسالة حقيقية أم تصيّد؟</div>

        <div id="choices" class="choices" role="radiogroup" aria-labelledby="qtext">
          <div class="choice" data-val="phish" role="radio" tabindex="0">تصيّد واحتيال</div>
          <div class="choice" data-val="real" role="radio" tabindex="0">رسالة حقيقية</div>
        </div>

        <div id="feedback" class="feedback" role="status" aria-live="polite"></div>
      </div>

      <div class="actions" role="toolbar" aria-label="أزرار التنقل">
        <button id="prevBtn" class="btn-ghost" disabled>السابق</button>
        <button id="nextBtn" class="btn-main" disabled>التالي</button>
        <button id="restartBtn" class="btn-ghost" style="display:none">إعادة المحاولة</button>
      </div>
    </div>
  </section>
</main>

<!-- الفوتر -->


<script>
/* بيانات الأسئلة — تأكد من وجود الصور Picture1.jpg .. Picture8.jpg */
const QUESTIONS = [
  { img:'Picture1.jpg', answer:'phish', explainIfWrong:'هذه رسالة احتيال بسبب طلب غريب وطلب استخدام بطاقتك لدفع اموال لطرف ثالث.', explainIfRight:'لاحظت ان الطلب غريب وطلب دفع أموال لطرف ثالث حتى لو كنت تثق في صاحب الحساب، قد يكون حسابه مخترق.' },
  { img:'Picture2.jpg', answer:'real',  explainIfWrong:'هذه رسالة حقيقية — مرسل موثوق ورابط رسمي دون طلب بيانات حساسة.', explainIfRight:'صحيح — المؤشرات توحي برسالة رسمية سليمة.' },
  { img:'Picture3.jpg', answer:'phish', explainIfWrong:'هذه محاولة تصيّد - البنوك لا تطلب تحديث بطاقتك عبر رسالة عشوائية ورقم تواصل غير مطابق للشركة.', explainIfRight:'ممتاز — اخطاء إملائية + رقم تواصل مشبوه = تصيّد.' },
  { img:'Picture4.jpg', answer:'real',  explainIfWrong:'حقيقية — من نطاق معتمد وتفاصيل حساب صحيحة.', explainIfRight:'صحيح — مصدر موثوق وتفاصيل دقيقة.' },
  { img:'Picture5.jpg', answer:'real', explainIfWrong:'عند التحقق من الرابط يتضح أنه رابط رسمي.', explainIfRight:'تمام — عند التحقق من الرابط يتضح أنهرابط رسمي.' },
  { img:'Picture6.jpg', answer:'phish',  explainIfWrong:'رسالة من جهة تدعي وظائف وتطلب بيانات شخصية = احتيال', explainIfRight:'جيد — طلب بيانات شخصية مقابل عروض وظيفية واستخدام الترغيب = تصيّد.' },
  { img:'Picture7.jpg', answer:'phish', explainIfWrong:'خطأ - البريد الاكتروني المرسل عشوائي ويستخدم التخويف', explainIfRight:'صحيح — البريد الاكتروني المرسل عشوائي ويستخدم التخويف.' },
  { img:'Picture8.jpg', answer:'real',  explainIfWrong:'مرسل معروف ومحتوى شخصي دون روابط — رسالة حقيقية.', explainIfRight:'تمام — لا مؤشرات تصيّد هنا.' }
];

let current = 0, score = 0, answered = Array(QUESTIONS.length).fill(false);

/* DOM */
const qimg = document.getElementById('qimg');
const counter = document.getElementById('counter');
const bar = document.getElementById('bar');
const choicesDiv = document.getElementById('choices');
const feedback = document.getElementById('feedback');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const restartBtn = document.getElementById('restartBtn');
const qscroll = document.getElementById('qscroll');

function render(){
  const q = QUESTIONS[current];
  qimg.src = q.img;
  qimg.alt = `سؤال ${current+1}`;
  counter.textContent = `${current+1} / ${QUESTIONS.length}`;
  bar.style.width = ((current)/QUESTIONS.length*100) + '%';
  // إعادة تعيين
  feedback.style.display = 'none';
  feedback.className = 'feedback';
  // خيارات
  choicesDiv.innerHTML = `
    <div class="choice" data-val="phish" role="radio" tabindex="0">تصيّد واحتيال</div>
    <div class="choice" data-val="real" role="radio" tabindex="0">رسالة حقيقية</div>
  `;
  // أزرار
  prevBtn.disabled = current === 0;
  nextBtn.disabled = !answered[current];
  nextBtn.textContent = current === QUESTIONS.length - 1 ? 'إنهاء' : 'التالي';
  restartBtn.style.display = 'none';
  hookChoices();
}

function hookChoices(){
  const choices = Array.from(document.querySelectorAll('.choice'));
  choices.forEach(ch=>{
    // دعم النقر و Enter/Space للوصولية
    ch.addEventListener('click', ()=> handleChoice(ch));
    ch.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); handleChoice(ch); }
    });
  });
}

function handleChoice(ch){
  if(answered[current]) return;
  const val = ch.getAttribute('data-val');
  const correct = QUESTIONS[current].answer;
  const choices = Array.from(document.querySelectorAll('.choice'));
  choices.forEach(c=>c.classList.remove('correct','wrong'));
  if(val === correct){
    ch.classList.add('correct');
    feedback.className = 'feedback ok';
    feedback.innerHTML = `<strong>أحسنت!</strong> ${QUESTIONS[current].explainIfRight}`;
    score++;
  } else {
    ch.classList.add('wrong');
    const correctDom = choices.find(c=>c.getAttribute('data-val')===correct);
    if(correctDom) correctDom.classList.add('correct');
    feedback.className = 'feedback err';
    feedback.innerHTML = `<strong>خطأ.</strong> ${QUESTIONS[current].explainIfWrong}`;
  }
  feedback.style.display = 'block';
  answered[current] = true;
  nextBtn.disabled = false;
  // تمرير لتحت لو الشاشة صغيرة
  qscroll.scrollTop = qscroll.scrollHeight;
}

/* أزرار */
prevBtn.addEventListener('click', ()=>{
  if(current>0){ current--; render(); qscroll.scrollTop = 0; }
});
nextBtn.addEventListener('click', ()=>{
  if(current < QUESTIONS.length - 1){ current++; render(); qscroll.scrollTop = 0; }
  else showResult();
});
restartBtn.addEventListener('click', ()=>{
  // عند انتهاء الاختبار، ارجع للصفحة الرئيسية بدل إعادة محاولة محلية
  window.location.href = 'index.html';
});

function showResult(){
  bar.style.width = '100%';
  qimg.src = '';
  qimg.alt = 'انتهى الاختبار';
  const qa = document.querySelector('.qa-pane .q-scroll');
  qa.innerHTML = `
    <div class="result-box">
      <div style="font-size:1.15rem;margin-bottom:8px">النتيجة النهائية</div>
      <div>إجابات صحيحة: <strong>${score}</strong> من ${QUESTIONS.length}</div>
      <div style="margin-top:8px"><strong>توصيات:</strong></div>
      <ul style="text-align:right; line-height:1.7; margin-top:8px">
        <li>تحقق دائمًا من الدومين قبل النقر على الروابط.</li>
        <li>لا تشارك رموز التحقق أو كلمات المرور.</li>
        <li>احذر من أساليب الإلحاح أو الجوائز المفاجئة.</li>
      </ul>
    </div>
  `;
  prevBtn.disabled = true;
  nextBtn.style.display = 'none';
  restartBtn.style.display = 'inline-block';
}

render();
</script>
</body>
</html>



